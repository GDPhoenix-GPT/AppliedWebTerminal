import{_ as N,a as A,C as T}from"./components-CQhYkScP.js";import{e as B,b as E,f as j,E as C,a as L,g as F,c as P}from"./node-modules_element-plus-DKsViqHs.js";import{l as D,a as q}from"./core-DIUAuEYf.js";import{a as S}from"./data-DS2mpZRl.js";import{L as y,c as z}from"./utils-DPPkojbW.js";import{d as h,r as v,h as R,e as I,o as r,w as l,b as t,g as p,t as K,u as w,c as d,f as M,a as b,F as O,a8 as U}from"./node-modules_@vue-BXttVEs6.js";const W=h({__name:"DialogTerminalLogin",setup(k){const o=S(),n=v(!1),c=v(!0),u=v("");function a(){n.value||(o.currentTerminal=void 0)}function s(){n.value=!0,D(o.currentTerminal.uuid,u.value).then(i=>{typeof i=="string"?(o.webSocketService.setToken(i),o.inTerminalPage=!0):F.alert(`Error on login request: ${i}`,"Login Failed",{type:"error",confirmButtonText:"OK",beforeClose:(e,_,f)=>{n.value=!1,f()}}).then(()=>{n.value=!1})})}const x=R(()=>{const i=document.getElementsByTagName("html")[0].clientWidth,m=z(.6*i,300,350);return y.debug(`dialog width: ${m}`),m});return(i,e)=>{const _=E,f=j,m=L,V=C,$=B;return r(),I($,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=g=>c.value=g),title:"Login Terminal",width:`${x.value}px`,"before-close":a},{footer:l(()=>[t(V,{justify:"end"},{default:l(()=>[t(m,{class:"w-100px",disabled:n.value,onClick:a},{default:l(()=>e[4]||(e[4]=[p(" Cancel ")])),_:1},8,["disabled"]),t(m,{type:"primary",class:"w-100px",disabled:n.value,onClick:s},{default:l(()=>e[5]||(e[5]=[p(" Login ")])),_:1},8,["disabled"])]),_:1})]),default:l(()=>[t(_,{type:"info",size:"small",class:"font-italic"},{default:l(()=>e[3]||(e[3]=[p(" Terminal Name: ")])),_:1}),t(_,{size:"large",class:"mx-2 my-2 block b-s-2 b-#555 b-s-solid p-2 font-bold"},{default:l(()=>[p(K(w(o).currentTerminal.name),1)]),_:1}),t(f,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=g=>u.value=g),type:"password","show-password":"",autocomplete:"off",placeholder:"Password",disabled:n.value,class:"my-2",onKeydown:e[1]||(e[1]=g=>{g.key==="Enter"&&s()})},null,8,["modelValue","disabled"])]),_:1},8,["modelValue","width"])}}}),J={key:0},G={class:"mx-a h-full max-w-2000px min-w-300px w-70%"},H={key:0,class:"m-4 flex flex-wrap items-stretch justify-center gap-4"},Q={key:1},X={key:2},re=h({__name:"MainPage",setup(k){const o=S(),n=v(!1);function c(){q().then(a=>{o.terminals=a}).catch(a=>{y.error("Error while reloading terminals list:"),y.error(a),n.value=!0})}c();function u(a){o.currentTerminal=a,y.info("Selected Terminal: "),y.info(a)}return(a,s)=>{const x=E,i=L,e=C,_=P,f=N;return r(),d("div",null,[w(o).currentTerminal?(r(),d("div",J,[t(W)])):M("",!0),b("div",G,[t(e,{class:"mx-4 my-2",justify:"space-between"},{default:l(()=>[t(x,{size:"large",class:"font-bold"},{default:l(()=>s[0]||(s[0]=[p(" Select A Terminal ")])),_:1}),t(i,{circle:"",disabled:!w(o).terminals&&!n.value,onClick:c},{default:l(()=>s[1]||(s[1]=[b("span",{class:"material-symbols-outlined"}," refresh ",-1)])),_:1},8,["disabled"])]),_:1}),t(_,{class:"my-1"}),w(o).terminals?(r(),d("div",H,[(r(!0),d(O,null,U(w(o).terminals,m=>(r(),d("div",{key:m.uuid},[t(f,{"terminal-info":m,"on-click":u},null,8,["terminal-info"])]))),128))])):n.value?(r(),d("div",Q," Error while loading terminals list! ")):(r(),d("div",X," loading... "))])])}}}),Y={class:"flex items-stretch"},Z={class:"max-w-300px min-w-150px w-30% b-r-1 b-r-#555 b-r-solid"},ee={class:"grow"},ie=h({__name:"TerminalPage",setup(k){const o={color:"#8ae",bold:!1,italic:!0,underline:!0,strikethrough:!0,translate:"item.ae2.semi_dark_monitor",text:"test json text %s",with:["hello","world"]},n={craftAmount:100,missingAmount:50,storedAmount:13,what:{id:"xxx",type:"xxx",displayName:"xxx"}},c={craftAmount:100,storedAmount:13,what:{id:"xxx",type:"xxx",displayName:"xxx"}},u={storedAmount:13,what:{id:"xxx",type:"xxx",displayName:"xxx"}};return(a,s)=>{const x=A;return r(),d("div",Y,[b("div",Z,[s[0]||(s[0]=p(" cpus ")),t(x,{"json-text":o,"minecraft-font":"",class:"block"})]),b("div",ee,[s[1]||(s[1]=p(" progress ")),t(T,{entry:n}),t(T,{entry:c}),t(T,{entry:u})])])}}});export{ie as _,re as a};
