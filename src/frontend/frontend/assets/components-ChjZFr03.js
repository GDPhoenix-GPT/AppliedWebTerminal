import{E as G,a as ne,b as D,c as se,d as K,e as X,f as ue,g as U,h as B}from"./node-modules_element-plus-DlUbQDO9.js";import{d as j,u as re,r as b,w as O,c as S,o as d,F as z,a as n,b as i,e as o,f as V,g as x,h as Y,t as v,i as C,n as q,j as R,k as $,l as A,m as H,v as Q}from"./node-modules_@vue-spdbOBV8.js";import{t as _,f as W,a as E}from"./core-DWdunkx_.js";import{L as T}from"./utils-BS2FQLbZ.js";import{u as Z}from"./node-modules_@vueuse-BNfT2vJp.js";import{u as F,a as ee}from"./data-Dg-AU-9l.js";import{t as ie,i as ce}from"./composables-CRBXEZI2.js";import{_ as me}from"./pages-SfWS0jGg.js";import{s as de}from"./node-modules_sprintf-js-D7DtBTRn.js";const fe={class:"mt-2 flex"},pe={class:"flex justify-between gap-2"},ge=j({__name:"DialogSelectLanguage",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(w){const e=re(w,"modelValue"),s=F(),f=ee(),r=b(s.localConfig.language);O(r,()=>{g(!1)});function g(u=!0){s.localConfig.language=r.value,u&&(e.value=!1)}const p=b(!1),h=b(""),t=b("block.minecraft.grass_block"),m=b("");function y(){m.value="(waiting for response...)",W(t.value,h.value).then(u=>{m.value=u})}O(t,()=>{m.value=""});function l(){s.localConfig=f.localConfigStoreManager.get();const u=h.value;if(T.info(`trying to add language ${u}`),/^(?=\s*$)/.test(u)){T.info(`language '${u}' is empty string`);return}s.localConfig.customLanguages||(s.localConfig.customLanguages=[]),s.localConfig.customLanguages.includes(u)?(T.info(`language ${u} is already in list`),T.info(s.localConfig.customLanguages)):s.localConfig.customLanguages.push(u),f.localConfigStoreManager.set(s.localConfig),p.value=!1}function c(u){if(s.localConfig=f.localConfigStoreManager.get(),T.info(`trying to remove language ${u}`),r.value===u&&(r.value="en_us"),s.localConfig.language===u&&(s.localConfig.language="en_us"),s.localConfig.customLanguages||(s.localConfig.customLanguages=[]),!s.localConfig.customLanguages.includes(u)){T.info(`did not find language to remove in list: ${u}`),T.info(s.localConfig.customLanguages);return}s.localConfig.customLanguages=s.localConfig.customLanguages.filter(a=>(T.info(`remove language: ${u}`),a!==u)),f.localConfigStoreManager.set(s.localConfig)}return(u,a)=>{const L=se,I=D,M=X,P=K,oe=ne,J=G,N=ue,le=B,ae=U;return d(),S(z,null,[n(J,{modelValue:e.value,"onUpdate:modelValue":a[2]||(a[2]=k=>e.value=k),width:"210px",title:i(_)("language.selector.title"),class:"language-selector"},{default:o(()=>[n(oe,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=k=>r.value=k),class:"max-h-60vh w-full flex-col items-stretch"},{default:o(()=>[n(I,{class:"my-0.5"},{default:o(()=>[n(L,{value:"zh_cn",class:"w-full ps-4 m-0!"},{default:o(()=>a[8]||(a[8]=[x(" zh_cn ")])),_:1})]),_:1}),n(I,{class:"my-0.5"},{default:o(()=>[n(L,{value:"en_us",class:"w-full ps-4 m-0!"},{default:o(()=>a[9]||(a[9]=[x(" en_us ")])),_:1})]),_:1}),(d(!0),S(z,null,Y(i(s).localConfig.customLanguages,k=>(d(),S("div",{key:k,class:"h-48px grow m-0!"},[n(I,{class:"my-0.5 w-full"},{default:o(()=>[n(P,null,{default:o(()=>[n(L,{value:k,class:"grow ps-4 m-0!"},{default:o(()=>[x(v(k),1)]),_:2},1032,["value"]),n(M,{circle:"",class:"my-a b-0",onClick:()=>{c(k)}},{default:o(()=>a[10]||(a[10]=[V("span",{class:"material-symbols-outlined text-5"}," delete ",-1)])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1},8,["modelValue"]),V("div",fe,[n(M,{class:"w-86px",onClick:a[1]||(a[1]=()=>{p.value=!0})},{default:o(()=>[x(v(i(_)("language.selector.button.add")),1)]),_:1}),n(M,{type:"primary",class:"w-86px",onClick:g},{default:o(()=>[x(v(i(_)("common.button.confirm")),1)]),_:1})])]),_:1},8,["modelValue","title"]),n(J,{modelValue:p.value,"onUpdate:modelValue":a[7]||(a[7]=k=>p.value=k),width:"300px",title:i(_)("language.add.title")},{footer:o(()=>[n(P,{justify:"space-evenly"},{default:o(()=>[n(M,{class:"w-86px",onClick:a[6]||(a[6]=()=>{h.value="",p.value=!1})},{default:o(()=>[x(v(i(_)("common.button.cancel")),1)]),_:1}),n(M,{type:"primary",class:"w-86px",onClick:l},{default:o(()=>[x(v(i(_)("language.add.button.add")),1)]),_:1})]),_:1})]),default:o(()=>[n(N,{modelValue:h.value,"onUpdate:modelValue":a[3]||(a[3]=k=>h.value=k),placeholder:i(_)("language.add.placeholder.lang")},null,8,["modelValue","placeholder"]),n(ae,{"content-position":"left"},{default:o(()=>[n(le,{type:"info",size:"small"},{default:o(()=>[x(v(i(_)("language.add.label.test")),1)]),_:1})]),_:1}),V("div",pe,[n(N,{modelValue:t.value,"onUpdate:modelValue":a[4]||(a[4]=k=>t.value=k),placeholder:i(_)("language.add.placeholder.test_key")},null,8,["modelValue","placeholder"]),n(M,{type:"info",onClick:y},{default:o(()=>[x(v(i(_)("language.add.button.test")),1)]),_:1})]),n(N,{modelValue:m.value,"onUpdate:modelValue":a[5]||(a[5]=k=>m.value=k),placeholder:i(_)("language.add.placeholder.result"),disabled:"",class:"mt-2"},null,8,["modelValue","placeholder"])]),_:1},8,["modelValue","title"])],64)}}}),_e=j({__name:"JsonTextSpan",props:{jsonText:{},minecraftFont:{type:Boolean,default:!1}},setup(w){const e=w,s=F(),f=C(()=>{let t="";return e.minecraftFont&&(t+="minecraft-font "),t}),r=C(()=>{let t="";const m=e.jsonText;return m.bold&&(t+=`font-weight: bold;
`),m.italic&&(t+=`font-style: italic;
`),m.underline&&m.strikethrough?t+=`text-decoration: underline line-through;
`:m.underline?t+=`text-decoration: underline;
`:m.strikethrough&&(t+=`text-decoration: line-through;
`),m.color&&(t+=`color: ${m.color}
`),t}),g=b(void 0),p=b(void 0),h=C(()=>{const t=e.jsonText.text,m=e.jsonText.translate,y=s.localConfig.language;m&&p.value!==y&&W(m,y).then(c=>{g.value=c,p.value=y});const l=g.value||m||t;try{return e.jsonText.with?de.vsprintf(l,e.jsonText.with):l}catch{}return l});return(t,m)=>(d(),S("span",{style:R(r.value),class:q(f.value)},v(h.value),7))}}),te=j({__name:"ItemTooltip",props:{text:{},tooltips:{default:()=>new Array}},setup(w){const e=w;return(s,f)=>{const r=_e,g=U,p=B,h=D;return d(),$(h,{class:"w-fit b-4 rounded-xl backdrop-blur-md",style:{background:"var(--app-tooltip-color)"}},{default:o(()=>[n(r,{"json-text":e.text,class:"mx-a block w-full px-4 text-center"},null,8,["json-text"]),e.tooltips.length?(d(),$(g,{key:0,class:"m-0 my-2 b-3",style:{"border-color":"var(--app-divider-border)"}})):A("",!0),(d(!0),S(z,null,Y(e.tooltips,t=>(d(),$(p,{key:t,type:"info",class:"my-2 block"},{default:o(()=>[x(v(t),1)]),_:2},1024))),128))]),_:1})}}}),ve={class:"h-58px flex flex-wrap justify-end text-right"},ye={class:"mx-a my-a grow"},xe=["alt","src"],ze=j({__name:"CraftingPlanEntryCard",props:{entry:{}},setup(w){const e=w,s=C(()=>{let l="";return e.entry.missingAmount&&(l+="card_bg_warn"),l}),f=C(()=>{const l=e.entry.what.displayName;try{const c=JSON.parse(l);if(c)return T.info(c),c}catch(c){T.warn(c)}}),r=b(!1),g=b({x:0,y:0}),p=b(null),h=Z(l=>{const{pageX:c,pageY:u}=l;if(p.value){const a=p.value.$el.getBoundingClientRect();r.value=c>=a.left&&c<=a.right&&u>=a.top&&u<=a.bottom}g.value={x:c,y:u}},100),t=C(()=>`position: fixed; left: ${g.value.x+10}px; top: ${g.value.y+10}px;`),m=C(()=>{const l=new Array;return e.entry.missingAmount&&l.push(`${_("ae.crafting.statue.missing")}${E(e.entry.missingAmount)}`),e.entry.storedAmount&&l.push(`${_("ae.crafting.statue.available")}${E(e.entry.storedAmount)}`),e.entry.craftAmount&&l.push(`${_("ae.crafting.statue.to_craft")}${E(e.entry.craftAmount)}`),l}),y=C(()=>`/aeResource/${e.entry.what.type}/${e.entry.what.id}`);return(l,c)=>{const u=B,a=D,L=te;return d(),S(z,null,[n(a,{ref_key:"hoverElement",ref:p,class:q([s.value,"relative m-2 max-w-220px min-w-220px"]),onMousemove:i(h),onMouseleave:c[0]||(c[0]=()=>{r.value=!1})},{default:o(()=>[V("div",ve,[V("div",ye,[e.entry.missingAmount?(d(),$(u,{key:0,size:"small",class:"my-1 block"},{default:o(()=>[x(v(i(_)("ae.crafting.statue.missing"))+v(i(E)(e.entry.missingAmount)),1)]),_:1})):A("",!0),e.entry.storedAmount?(d(),$(u,{key:1,size:"small",class:"my-1 block"},{default:o(()=>[x(v(i(_)("ae.crafting.statue.available"))+v(i(E)(e.entry.storedAmount)),1)]),_:1})):A("",!0),e.entry.craftAmount?(d(),$(u,{key:2,size:"small",class:"my-1 block"},{default:o(()=>[x(v(i(_)("ae.crafting.statue.to_craft"))+v(i(E)(e.entry.craftAmount)),1)]),_:1})):A("",!0)]),V("img",{class:"my-a ml-1 block h-50px w-50px font-size-8",alt:e.entry.what.id,src:y.value},null,8,xe)])]),_:1},8,["class","onMousemove"]),f.value?H((d(),$(L,{key:0,class:"z-10000",tooltips:m.value,style:R(t.value),text:f.value},null,8,["tooltips","style","text"])),[[Q,r.value]]):A("",!0)],64)}}}),ke={key:0,class:"material-symbols-outlined"},we={key:1,class:"material-symbols-outlined"},Be=j({__name:"TopBar",setup(w){const e=F(),s=ee();function f(){s.inTerminalPage=!1,s.currentTerminal=void 0}const r=b(!1),g=!1,p=b(!1);return(h,t)=>{const m=ge,y=G,l=X,c=B,u=U,a=K;return d(),S(z,null,[n(m,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=L=>r.value=L)},null,8,["modelValue"]),n(y,{modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=L=>p.value=L),class:"h-80vh w-90vw"},{default:o(()=>[n(me)]),_:1},8,["modelValue"]),n(a,{justify:"space-between",class:"border_color_el h-full w-full w-full b-b b-b-solid py-2"},{default:o(()=>[n(a,{class:"my-a h-full w-fit"},{default:o(()=>[i(s).inTerminalPage?(d(),$(l,{key:0,circle:"",class:"my-a ml-2",onClick:f},{default:o(()=>t[4]||(t[4]=[V("span",{class:"material-symbols-outlined"}," arrow_back ",-1)])),_:1})):A("",!0),n(c,{type:"primary",class:"mx-2 my-a font-bold"},{default:o(()=>[x(v(i(e).serverConfig.title),1)]),_:1}),n(u,{direction:"vertical",class:"my-a h-6"}),i(g)?(d(),$(l,{key:1,type:"primary",circle:"",onClick:t[2]||(t[2]=L=>p.value=!0)},{default:o(()=>t[5]||(t[5]=[V("span",{class:"material-symbols-outlined"}," handyman ",-1)])),_:1})):A("",!0)]),_:1}),n(a,null,{default:o(()=>[n(l,{circle:"",class:"float-right my-a",onClick:t[3]||(t[3]=()=>{r.value=!0})},{default:o(()=>t[6]||(t[6]=[V("span",{class:"material-symbols-outlined"}," language ",-1)])),_:1}),n(l,{circle:"",class:"float-right my-a mr-2",onClick:i(ie)},{default:o(()=>[i(ce)?(d(),S("span",ke," dark_mode ")):(d(),S("span",we," light_mode "))]),_:1},8,["onClick"])]),_:1})]),_:1})],64)}}}),De=j({__name:"TerminalInfoCard",props:{terminalInfo:{},onClick:{type:Function}},setup(w){const e=w;return(s,f)=>{const r=B,g=D;return d(),$(g,{shadow:"hover",class:"w-260px",onClick:f[0]||(f[0]=()=>{e.onClick(e.terminalInfo)})},{default:o(()=>[n(r,{size:"large",truncated:"",class:"block w-80% font-bold"},{default:o(()=>[x(v(e.terminalInfo.name),1)]),_:1}),n(r,{type:"info",class:"jetbrains-mono-regular mt-1 block font-size-10px"},{default:o(()=>[x(v(e.terminalInfo.uuid),1)]),_:1})]),_:1})}}}),be=(w,e)=>{const s=w.__vccOpts||w;for(const[f,r]of e)s[f]=r;return s},he=["alt","src"],Ce=j({__name:"MEStackComponent",props:{stack:{},craftable:{type:Boolean,default:!1}},setup(w){const e=w,s=C(()=>{const y=e.stack.what.displayName;try{const l=JSON.parse(y);if(l)return l}catch(l){T.warn(l)}}),f=b(!1),r=b({x:0,y:0}),g=b(null),p=Z(y=>{const{x:l,y:c}=y;if(g.value){const u=g.value.getBoundingClientRect();f.value=l>=u.left&&l<=u.right&&c>=u.top&&c<=u.bottom}r.value={x:l,y:c}},100),h=C(()=>`position: absolute; left: ${r.value.x+10}px; top: ${r.value.y+10}px;`),t=C(()=>{const y=new Array;return e.stack.amount&&y.push(`${_("ae.tooltip.stored")} ${e.stack.amount.toLocaleString()}`),e.craftable&&y.push(`${_("ae.tooltip.craftable")}`),y}),m=C(()=>`/aeResource/${e.stack.what.type}/${e.stack.what.id}`);return(y,l)=>{const c=B,u=te;return d(),S(z,null,[V("div",{ref_key:"hoverElement",ref:g,class:"stack-container relative h-64px w-64px",onMouseleave:l[0]||(l[0]=a=>f.value=!1),onMousemove:l[1]||(l[1]=(...a)=>i(p)&&i(p)(...a))},[V("img",{class:"h-100% w-100%",alt:e.stack.what.id,src:m.value},null,8,he),n(c,{class:"absolute pos-bottom-2px pos-right-2px",size:"small"},{default:o(()=>[x(v(i(E)(e.stack.amount)),1)]),_:1}),e.craftable?(d(),$(c,{key:0,class:"absolute pos-left-2px pos-top-0px"},{default:o(()=>l[2]||(l[2]=[x(" + ")])),_:1})):A("",!0)],544),s.value?H((d(),$(u,{key:0,tooltips:t.value,style:R(h.value),text:s.value,class:"z-10000"},null,8,["tooltips","style","text"])),[[Q,f.value]]):A("",!0)],64)}}}),Ie=be(Ce,[["__scopeId","data-v-e4eca0db"]]);export{te as _,ze as a,De as b,be as c,Ie as d,Be as e};
