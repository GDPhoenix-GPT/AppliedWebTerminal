import{_ as $,a as B}from"./components-1e0OC7d9.js";import{e as j,b as h,f as F,E,a as C,g as N,c as D}from"./node-modules_element-plus-CM9U3G2a.js";import{l as P,f as q}from"./core-QeicWyxs.js";import{a as L}from"./data-CyNSjlnJ.js";import{L as x,c as z}from"./utils-DPPkojbW.js";import{d as y,k as w,h as R,e as A,o as r,w as a,b as o,g as f,t as I,u as v,c as d,f as K,a as b,F as M,a8 as O}from"./node-modules_@vue-BE5T86hj.js";const U=y({__name:"DialogTerminalLogin",setup(k){const t=L(),n=w(!1),s=w(!0),c=w("");function l(){n.value||(t.currentTerminal=void 0)}function u(){n.value=!0,P(t.currentTerminal.uuid,c.value).then(i=>{typeof i=="string"?(t.webSocketService.setToken(i),t.inTerminalPage=!0):N.alert(`Error on login request: ${i}`,"Login Failed",{type:"error",confirmButtonText:"OK",beforeClose:(e,_,p)=>{n.value=!1,p()}}).then(()=>{n.value=!1})})}const T=R(()=>{const i=document.getElementsByTagName("html")[0].clientWidth,m=z(.6*i,300,350);return x.debug(`dialog width: ${m}`),m});return(i,e)=>{const _=h,p=F,m=C,S=E,V=j;return r(),A(V,{modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=g=>s.value=g),title:"Login Terminal",width:`${T.value}px`,"before-close":l},{footer:a(()=>[o(S,{justify:"end"},{default:a(()=>[o(m,{class:"w-100px",disabled:n.value,onClick:l},{default:a(()=>e[4]||(e[4]=[f(" Cancel ")])),_:1},8,["disabled"]),o(m,{type:"primary",class:"w-100px",disabled:n.value,onClick:u},{default:a(()=>e[5]||(e[5]=[f(" Login ")])),_:1},8,["disabled"])]),_:1})]),default:a(()=>[o(_,{type:"info",size:"small",class:"font-italic"},{default:a(()=>e[3]||(e[3]=[f(" Terminal Name: ")])),_:1}),o(_,{size:"large",class:"mx-2 my-2 block b-s-2 b-#555 b-s-solid p-2 font-bold"},{default:a(()=>[f(I(v(t).currentTerminal.name),1)]),_:1}),o(p,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=g=>c.value=g),type:"password","show-password":"",autocomplete:"off",placeholder:"Password",disabled:n.value,onKeydown:e[1]||(e[1]=g=>{g.key==="Enter"&&u()}),class:"my-2"},null,8,["modelValue","disabled"])]),_:1},8,["modelValue","width"])}}}),W={key:0},J={class:"mx-a h-full max-w-2000px min-w-300px w-70%"},G={key:0,class:"m-4 flex flex-wrap items-stretch justify-center gap-4"},H={key:1},Q={key:2},le=y({__name:"MainPage",setup(k){const t=L(),n=w(!1);function s(){q().then(l=>{t.terminals=l}).catch(l=>{x.error("Error while reloading terminals list:"),x.error(l),n.value=!0})}s();function c(l){t.currentTerminal=l,x.info("Selected Terminal: "),x.info(l)}return(l,u)=>{const T=h,i=C,e=E,_=D,p=$;return r(),d("div",null,[v(t).currentTerminal?(r(),d("div",W,[o(U)])):K("",!0),b("div",J,[o(e,{class:"mx-4 my-2",justify:"space-between"},{default:a(()=>[o(T,{size:"large",class:"font-bold"},{default:a(()=>u[0]||(u[0]=[f(" Select A Terminal ")])),_:1}),o(i,{circle:"",disabled:!v(t).terminals&&!n.value,onClick:s},{default:a(()=>u[1]||(u[1]=[b("span",{class:"material-symbols-outlined"}," refresh ",-1)])),_:1},8,["disabled"])]),_:1}),o(_,{class:"my-1"}),v(t).terminals?(r(),d("div",G,[(r(!0),d(M,null,O(v(t).terminals,m=>(r(),d("div",{key:m.uuid},[o(p,{"terminal-info":m,"on-click":c},null,8,["terminal-info"])]))),128))])):n.value?(r(),d("div",H," Error while loading terminals list! ")):(r(),d("div",Q," loading... "))])])}}}),X={class:"flex items-stretch"},Y={class:"max-w-300px min-w-150px w-30% b-r-1 b-r-#555 b-r-solid"},ae=y({__name:"TerminalPage",setup(k){const t={color:"#8ae",bold:!1,italic:!0,underline:!0,strikethrough:!0,text:"test json text %s",with:["hello","world"]};return(n,s)=>{const c=B;return r(),d("div",X,[b("div",Y,[s[0]||(s[0]=f(" cpus ")),o(c,{"json-text":t,"minecraft-font":"",class:"block"})]),s[1]||(s[1]=b("div",{class:"grow"}," progress ",-1))])}}});export{ae as _,le as a};
