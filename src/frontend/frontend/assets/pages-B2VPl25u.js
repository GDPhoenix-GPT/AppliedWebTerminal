import{_ as B}from"./components-Dg8dQT-l.js";import{e as N,a as E,f as D,E as C,c as L,g as F,b as P}from"./node-modules_element-plus-CxMdFYud.js";import{l as R,f as $}from"./core-BfJW218Q.js";import{a as V}from"./data-C798pYVu.js";import{d as h,h as b,f as j,o as s,w as a,b as n,e as _,t as q,u as p,c as d,R as O,a as y,F as k,a8 as z}from"./node-modules_@vue-lpVbymzV.js";import{L as T}from"./utils-CT8TwQaH.js";const A=h({__name:"DialogTerminalLogin",setup(m){const e=V(),o=b(!1),r=b(!0),i=b("");function l(){o.value||(e.currentTerminal=void 0)}function u(){o.value=!0,R(e.currentTerminal.uuid,i.value).then(c=>{typeof c=="string"?(e.webSocketService.setToken(c),e.inTerminal=!0):F.alert(`Error on login request: ${c}`,"Login Failed",{type:"error",confirmButtonText:"OK"}).then(()=>{o.value=!1})})}return(c,t)=>{const g=E,x=D,v=L,w=C,S=N;return s(),j(S,{modelValue:r.value,"onUpdate:modelValue":t[2]||(t[2]=f=>r.value=f),title:"Login Terminal",width:"350px","before-close":l},{footer:a(()=>[n(w,{justify:"end"},{default:a(()=>[n(v,{class:"w-100px",disabled:o.value,onClick:l},{default:a(()=>t[4]||(t[4]=[_(" Cancel ")])),_:1},8,["disabled"]),n(v,{type:"primary",class:"w-100px",disabled:o.value,onClick:u},{default:a(()=>t[5]||(t[5]=[_(" Login ")])),_:1},8,["disabled"])]),_:1})]),default:a(()=>[n(g,{class:"font-italic"},{default:a(()=>t[3]||(t[3]=[_(" Terminal Name: ")])),_:1}),n(g,{size:"large",class:"mx-2 my-2 block b-s-2 b-#555 b-s-solid p-2 font-bold"},{default:a(()=>[_(q(p(e).currentTerminal.name),1)]),_:1}),n(x,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=f=>i.value=f),type:"password","show-password":"",autocomplete:"off",placeholder:"Password",disabled:o.value,onKeydown:t[1]||(t[1]=f=>{f.key==="Enter"&&u()}),class:"my-2"},null,8,["modelValue","disabled"])]),_:1},8,["modelValue"])}}}),I={key:0},K={class:"h-full w-full"},M={class:"mx-a h-full max-w-2000px min-w-300px w-70%"},U={key:0,class:"flex flex-wrap justify-center gap-4"},G={key:1},H={key:2},ne=h({__name:"MainPage",setup(m){const e=V(),o=b(!1);function r(){$().then(l=>{e.terminals=l}).catch(l=>{T.error("Error while reloading terminals list:"),T.error(l),o.value=!0})}r();function i(l){e.currentTerminal=l,T.info("Selected Terminal: "),T.info(l)}return(l,u)=>{const c=E,t=L,g=C,x=P,v=B;return s(),d(k,null,[p(e).currentTerminal?(s(),d("div",I,[n(A)])):O("",!0),y("div",K,[y("div",M,[n(g,{class:"m-4",justify:"space-between"},{default:a(()=>[n(c,{class:"font-size-6 font-bold"},{default:a(()=>u[0]||(u[0]=[_(" Select A Terminal ")])),_:1}),n(t,{circle:"",disabled:!p(e).terminals&&!o.value,onClick:r},{default:a(()=>u[1]||(u[1]=[y("span",{class:"material-symbols-outlined"}," refresh ",-1)])),_:1},8,["disabled"])]),_:1}),n(x,{class:"my-4"}),p(e).terminals?(s(),d("div",U,[(s(!0),d(k,null,z(p(e).terminals,w=>(s(),d("div",{key:w.uuid},[n(v,{"terminal-info":w,"on-click":i},null,8,["terminal-info"])]))),128))])):o.value?(s(),d("div",G," Error while loading terminals list! ")):(s(),d("div",H," loading... "))])])],64)}}}),J=(m,e)=>{const o=m.__vccOpts||m;for(const[r,i]of e)o[r]=i;return o},Q={};function W(m,e){return" TerminalPage "}const le=J(Q,[["render",W]]);export{le as T,ne as _};
